import{Y as a,w as t,f as e,Z as r}from"./B5Cna7aG.js";import{u as s}from"./yL9g2Vy0.js";import"./CfmBXBX3.js";const i=a((async(a,i)=>{var u;let l,d;if(a.path.includes("-standard-edition")){const e=a.path.replace("-standard-edition","");return t(e+(a.fullPath.includes("?")?"?"+a.fullPath.split("?")[1]:""),{redirectCode:301})}const{$api:n}=e(),{error:o}=([l,d]=r((()=>s("gameType",(async()=>await n(`/check_entity/${a.params.slug}`,{method:"GET"}))))),l=await l,d(),l);if(404===(null==(u=o.value)?void 0:u.statusCode)){const{data:{value:e}}=([l,d]=r((()=>s("gameItem",(async()=>(await n(`/product_by_slug/${a.params.slug}?with_inactive=true`)).data)))),l=await l,d(),l);if(!e)return;if(a.path===`/ru-ru/games/${e.game.slug}`)return;if(!(null==e?void 0:e.active)||(null==e?void 0:e.deleted_at))return[l,d]=r((()=>t(`/ru-ru/games/${e.game.slug}`,{redirectCode:302}))),l=await l,d(),l}}));export{i as default};