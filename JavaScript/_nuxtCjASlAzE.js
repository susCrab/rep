import{k as e,f as t,I as r,J as a,K as l,L as n,M as o,N as u,P as i,Q as s,w as v,R as c,S as d,T as f}from"./B5Cna7aG.js";import{k as p,b as h,F as g,o as m,m as y,ag as b,l as x}from"./CfmBXBX3.js";async function q(t,r=e()){const{path:a,matched:l}=r.resolve(t);if(!l.length)return;if(r._routePreloaded||(r._routePreloaded=new Set),r._routePreloaded.has(a))return;const n=r._preloadPromises=r._preloadPromises||[];if(n.length>4)return Promise.all(n).then((()=>q(t,r)));r._routePreloaded.add(a);const o=l.map((e=>{var t;return null==(t=e.components)?void 0:t.default})).filter((e=>"function"==typeof e));for(const e of o){const t=Promise.resolve(e()).catch((()=>{})).finally((()=>n.splice(n.indexOf(t))));n.push(t)}await Promise.all(n)}function P(o){const d=o.componentName||"NuxtLink";function f(e,t){if(!e||"append"!==o.trailingSlash&&"remove"!==o.trailingSlash)return e;if("string"==typeof e)return C(e,o.trailingSlash);const r="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:C(r,o.trailingSlash)}}function P(t){const r=e(),a=c(),l=x((()=>!!t.target&&"_self"!==t.target)),n=x((()=>{const e=t.to||t.href||"";return"string"==typeof e&&u(e,{acceptRelative:!0})})),o=b("RouterLink"),d=o&&"string"!=typeof o?o.useLink:void 0,p=x((()=>{if(t.external)return!0;const e=t.to||t.href||"";return"object"!=typeof e&&(""===e||n.value)})),h=x((()=>{const e=t.to||t.href||"";return p.value?e:f(e,r.resolve)})),g=p.value||null==d?void 0:d({...t,to:h}),m=x((()=>{var e;if(!h.value||n.value)return h.value;if(p.value){const e="object"==typeof h.value&&"path"in h.value?i(h.value):h.value;return f("object"==typeof e?r.resolve(e).href:e,r.resolve)}return"object"==typeof h.value?(null==(e=r.resolve(h.value))?void 0:e.href)??null:f(s(a.app.baseURL,h.value),r.resolve)}));return{to:h,hasTarget:l,isAbsoluteUrl:n,isExternal:p,href:m,isActive:(null==g?void 0:g.isActive)??x((()=>h.value===r.currentRoute.value.path)),isExactActive:(null==g?void 0:g.isExactActive)??x((()=>h.value===r.currentRoute.value.path)),route:(null==g?void 0:g.route)??x((()=>r.resolve(h.value))),async navigate(){await v(m.value,{replace:t.replace,external:p.value||l.value})}}}return p({name:d,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:P,setup(u,{slots:s}){const v=e(),{to:c,href:d,navigate:f,isExternal:p,hasTarget:x,isAbsoluteUrl:S}=P(u),C=h(!1),A=h(null),R=e=>{var t;A.value=u.custom?null==(t=null==e?void 0:e.$el)?void 0:t.nextElementSibling:null==e?void 0:e.$el};function _(e){var t,r;return!C.value&&("string"==typeof u.prefetchOn?u.prefetchOn===e:(null==(t=u.prefetchOn)?void 0:t[e])??(null==(r=o.prefetchOn)?void 0:r[e]))&&!1!==(u.prefetch??o.prefetch)&&!0!==u.noPrefetch&&"_blank"!==u.target&&!function(){const e=navigator.connection;if(e&&(e.saveData||/2g/.test(e.effectiveType)))return!0;return!1}()}async function k(e=t()){if(C.value)return;C.value=!0;const r="string"==typeof c.value?c.value:p.value?i(c.value):v.resolve(c.value).fullPath;await Promise.all([e.hooks.callHook("link:prefetch",r).catch((()=>{})),!p.value&&!x.value&&q(c.value,v).catch((()=>{}))])}if(_("visibility")){const e=t();let n,o=null;g((()=>{const l=function(){const e=t();if(e._observer)return e._observer;let r=null;const a=new Map,l=(e,t)=>(r||(r=new IntersectionObserver((e=>{for(const t of e){const e=a.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}))),a.set(e,t),r.observe(e),()=>{a.delete(e),r.unobserve(e),0===a.size&&(r.disconnect(),r=null)}),n=e._observer={observe:l};return n}();r((()=>{n=a((()=>{var t;(null==(t=null==A?void 0:A.value)?void 0:t.tagName)&&(o=l.observe(A.value,(async()=>{null==o||o(),o=null,await k(e)})))}))}))})),m((()=>{n&&l(n),null==o||o(),o=null}))}return()=>{var e;if(!p.value&&!x.value){const e={ref:R,to:c.value,activeClass:u.activeClass||o.activeClass,exactActiveClass:u.exactActiveClass||o.exactActiveClass,replace:u.replace,ariaCurrentValue:u.ariaCurrentValue,custom:u.custom};return u.custom||(_("interaction")&&(e.onPointerenter=k.bind(null,void 0),e.onFocus=k.bind(null,void 0)),C.value&&(e.class=u.prefetchedClass||o.prefetchedClass),e.rel=u.rel||void 0),y(b("RouterLink"),e,s.default)}const t=u.target||null,r=((...e)=>e.find((e=>void 0!==e)))(u.noRel?"":u.rel,o.externalRelAttribute,S.value||x.value?"noopener noreferrer":"")||null;return u.custom?s.default?s.default({href:d.value,navigate:f,prefetch:k,get route(){if(!d.value)return;const e=new URL(d.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return n(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:d.value}},rel:r,target:t,isExternal:p.value||x.value,isActive:!1,isExactActive:!1}):null:y("a",{ref:A,href:d.value||null,rel:r,target:t},null==(e=s.default)?void 0:e.call(s))}}})}const S=P(o);function C(e,t){const r="append"===t?d:f;return u(e)&&!e.startsWith("http")?e:r(e,!0)}export{S as _};